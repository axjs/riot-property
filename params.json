{"name":"Riot-property","tagline":"Create property triggered set, get, change events. Auto call update() when set value","body":"\r\n## riot-property\r\n\r\n\r\n[![Riot](https://muut.com/riotjs/logo/riot60x.png)](https://muut.com/riotjs/) mixin for declarative and reactive developing.\r\n - Named property triggered **.set**, **.change** events on set value. \r\n - May check value on set, trigger **.check** event\r\n - Run callback when changed\r\n - ...\r\n\r\n\r\n#### Example\r\n\r\n``` javascript\r\n<timer>\r\n\r\n  <p>Seconds Elapsed: { time }</p>\r\n\r\n  this.mixin('property')\r\n  this.property('time', opts.start || 0, this.update)\r\n\r\n  tick() {\r\n    this.time++ // Auto call update() when this.time changed\r\n  }\r\n\r\n  var timer = setInterval(this.tick, 1000)\r\n\r\n  this.on('unmount', function() {\r\n    clearInterval(timer)\r\n  })\r\n\r\n</timer>\r\n```\r\n\r\n#### API\r\n\r\n  Create property in riot tag\r\n``` javascript\r\n  this.property(name, [init_value], [onchange_callback | options_object])\r\n```\r\n\r\n  Create property in observable object\r\n``` javascript\r\n  riot.property(observable_object, name, [ init_value ], [ onchange_callback | options_object ])\r\n```\r\n\r\n  Create properties\r\n``` javascript\r\n  // in riot tag\r\n  this.properties(names_values_object, [ onchange_callback | options ])\r\n\r\n  // in observable object\r\n  riot.properties(observable_object, names_values_object, [ onchange_callback | options_object ])\r\n```\r\n \r\n- `name` - property name\r\n- `init_value` - property init wthis this value\r\n- `onchange_callback` - callback function called when property value change\r\n- `observable_object` - riot observable object\r\n- `names_values_object` - object in which the keys and values are properties `names` and `init_values`\r\n- `options_object` - object with optional keys `setter`, `getter`, `checker`, `onchange`, `onset`\r\n \r\n#### Usage\r\n\r\n  Init mixin \r\n``` javascript\r\n  this.mixin('property')\r\n```\r\n\r\n  Create property by name and optional init value \r\n``` javascript\r\n  this.property('time', 0)\r\n```\r\n\r\n  Listen property events `{property_name}.{event_type}`\r\n``` javascript\r\n  this.on('time.set', function (value) {...})\r\n  this.on('time.change', function (value) {...})\r\n  this.on('time.check', function (value) {...})\r\n```\r\n\r\n  Listen events of all object properties `*.{event_type}`\r\n``` javascript\r\n  this.on('*.set', function (name, value) {...})\r\n  this.on('*.change', function (name, value) {...})\r\n  this.on('*.check', function (name, value) {...})\r\n```\r\n\r\n  Create many properties\r\n``` javascript\r\n  this.properties({\r\n    data: {},\r\n    time: Date.now(),\r\n    counter: 0\r\n  })\r\n```\r\n\r\n  Set property options\r\n``` javascript\r\n  this.property('time', 0, {\r\n    setter: function (value) { return value / 1000 },\r\n    getter: function (value) { return value * 1000 },\r\n    checker: function (value) { return value < 0 },\r\n    // callbacks\r\n    onchange: function () { this.update() },\r\n    onset: function () { this.save() },\r\n  })\r\n```\r\n\r\n  Set property to observable object by `riot.property`\r\n``` javascript\r\nfunction Store() {\r\n  if (!(this instanceof Store)) return new Store()\r\n\r\n  riot.observable(this)\r\n  \r\n  riot.property(this, 'data', [])\r\n\r\n  this.on('data.set', function(data) {\r\n    this.save(data)\r\n  })\r\n  ...\r\n} \r\n\r\nvar store = new Store()\r\nstore.data = [1,2,3] // trigger data.set event\r\n```\r\n\r\n  Prevent auto call `onchange` callback when change property\r\n``` javascript\r\n  this.preventOnchange = true\r\n  \r\n  // onchange callback not run\r\n  this.time++\r\n  \r\n  this.preventOnchange = false\r\n```\r\n\r\n\r\n[![MIT License][license-image]][license-url]\r\n\r\n\r\n[![Riot Forum][riot-forum-image]][riot-forum-url]\r\n[![Join the chat at https://gitter.im/axjs/riot-property][gitter-image]][gitter-url]\r\n<!---\r\n[![Join the chat at https://gitter.im/axjs/riot-property](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/axjs/riot-property?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\r\n-->\r\n\r\n[license-image]:http://img.shields.io/badge/license-MIT-000000.svg?style=flat-square\r\n[license-url]:LICENSE.txt\r\n\r\n[riot-forum-image]:https://img.shields.io/badge/muut-JOIN_CHAT%E2%86%92-ff0044.svg?style=flat-square\r\n[riot-forum-url]:https://muut.com/riotjs/forum/\r\n\r\n[gitter-image]:https://img.shields.io/badge/GITTER-JOIN_CHAT_%E2%86%92-1dce73.svg?style=flat-square\r\n[gitter-url]:https://gitter.im/axjs/riot-property?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}